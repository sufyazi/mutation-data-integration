file_prefix: /mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT
INFO	2023-09-13 18:08:12	SamToFastq	

********** NOTE: Picard's command line syntax is changing.
**********
********** For more information, please see:
********** 
https://github.com/broadinstitute/picard/wiki/Command-Line-Syntax-Transition-For-Users-(Pre-Transition)
**********
********** The command line looks like this in the new syntax:
**********
**********    SamToFastq -I /mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_revertsam-noXS_markadapt.bam -FASTQ /dev/stdout -CLIPPING_ATTRIBUTE XT -CLIPPING_ACTION 2 -INTERLEAVE true -NON_PF true -TMPDIR /mnt/outputs/tmp
**********


INFO	2023-09-13 18:08:12	MergeBamAlignment	

********** NOTE: Picard's command line syntax is changing.
**********
********** For more information, please see:
********** 
https://github.com/broadinstitute/picard/wiki/Command-Line-Syntax-Transition-For-Users-(Pre-Transition)
**********
********** The command line looks like this in the new syntax:
**********
**********    MergeBamAlignment -ALIGNED_BAM /dev/stdin -UNMAPPED_BAM /mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_revertsam-noXS.bam -OUTPUT /mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_pipe-merged.bam -R /mnt/inputs/references/gatk4/GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta -CREATE_INDEX true -ADD_MATE_CIGAR true -CLIP_ADAPTERS false -CLIP_OVERLAPPING_READS true -INCLUDE_SECONDARY_ALIGNMENTS true -MAX_INSERTIONS_OR_DELETIONS -1 -PRIMARY_ALIGNMENT_STRATEGY MostDistant -ATTRIBUTES_TO_RETAIN XS -TMP_DIR /mnt/outputs/tmp
**********


ERROR: Unrecognized option: TMPDIR

18:08:12.602 INFO  NativeLibraryLoader - Loading libgkl_compression.so from jar:file:/gatk/gatk-package-4.4.0.0-local.jar!/com/intel/gkl/native/libgkl_compression.so
USAGE: SamToFastq [options]

Documentation: http://broadinstitute.github.io/picard/command-line-overview.html#SamToFastq

Converts a SAM/BAM/CRAM file to FASTQ. Extracts read sequences and qualities from the input SAM/BAM/CRAM file and writes
them intothe output file in Sanger FASTQ format.See MAQ FASTQ specification (http://maq.sourceforge.net/fastq.shtml) for
details.This tool can be used by way of a pipe to run BWA MEM on unmapped BAM (uBAM) files efficiently.

In the RC mode (default is True), if the read is aligned and the alignment is to the reverse strand on the genome,the
read's sequence from input sam file will be reverse-complemented prior to writing it to FASTQ in order restore
correctlythe original read sequence as it was generated by the sequencer.


Usage example:

java -jar picard.jar SamToFastq 
I=input.bam
FASTQ=output.fastq


Version: 4.4.0.0


Options:

--help
-h                            Displays options specific to this tool.

--stdhelp
-H                            Displays options specific to this tool AND options common to all Picard command line
                              tools.

--version                     Displays program version.

INPUT=File
I=File                        Input SAM/BAM/CRAM file to extract reads from  Required. 

FASTQ=File
F=File                        Output FASTQ file (single-end fastq or, if paired, first end of the pair FASTQ). 
                              Required.  Cannot be used in conjuction with option(s) OUTPUT_DIR (ODIR)
                              COMPRESS_OUTPUTS_PER_RG (GZOPRG) OUTPUT_PER_RG (OPRG)

SECOND_END_FASTQ=File
F2=File                       Output FASTQ file (if paired, second end of the pair FASTQ).  Default value: null.  Cannot
                              be used in conjuction with option(s) COMPRESS_OUTPUTS_PER_RG (GZOPRG) OUTPUT_PER_RG (OPRG)

UNPAIRED_FASTQ=File
FU=File                       Output FASTQ file for unpaired reads; may only be provided in paired-FASTQ mode  Default
                              value: null.  Cannot be used in conjuction with option(s) COMPRESS_OUTPUTS_PER_RG (GZOPRG)
                              OUTPUT_PER_RG (OPRG)

OUTPUT_PER_RG=Boolean
OPRG=Boolean                  Output a FASTQ file per read group (two FASTQ files per read group if the group is
                              paired).  Default value: false. This option can be set to 'null' to clear the default
                              value. Possible values: {true, false}  Cannot be used in conjuction with option(s)
                              SECOND_END_FASTQ (F2) UNPAIRED_FASTQ (FU) FASTQ (F)

COMPRESS_OUTPUTS_PER_RG=Boolean
GZOPRG=Boolean                Compress output FASTQ files per read group using gzip and append a .gz extension to the
                              file names.  Default value: false. This option can be set to 'null' to clear the default
                              value. Possible values: {true, false}  Cannot be used in conjuction with option(s)
                              SECOND_END_FASTQ (F2) UNPAIRED_FASTQ (FU) FASTQ (F)

RG_TAG=String
RGT=String                    The read group tag (PU or ID) to be used to output a FASTQ file per read group.  Default
                              value: PU. This option can be set to 'null' to clear the default value. 

OUTPUT_DIR=File
ODIR=File                     Directory in which to output the FASTQ file(s).  Used only when OUTPUT_PER_RG is true. 
                              Default value: null. 

RE_REVERSE=Boolean
RC=Boolean                    Re-reverse bases and qualities of reads with negative strand flag set before writing them
                              to FASTQ  Default value: true. This option can be set to 'null' to clear the default
                              value. Possible values: {true, false} 

INTERLEAVE=Boolean
INTER=Boolean                 Will generate an interleaved fastq if paired, each line will have /1 or /2 to describe
                              which end it came from  Default value: false. This option can be set to 'null' to clear
                              the default value. Possible values: {true, false} 

INCLUDE_NON_PF_READS=Boolean
NON_PF=Boolean                Include non-PF reads from the SAM file into the output FASTQ files. PF means 'passes
                              filtering'. Reads whose 'not passing quality controls' flag is set are non-PF reads. See
                              GATK Dictionary for more info.  Default value: false. This option can be set to 'null' to
                              clear the default value. Possible values: {true, false} 

CLIPPING_ATTRIBUTE=String
CLIP_ATTR=String              The attribute that stores the position at which the SAM record should be clipped  Default
                              value: null. 

CLIPPING_ACTION=String
CLIP_ACT=String               The action that should be taken with clipped reads: 'X' means the reads and qualities
                              should be trimmed at the clipped position; 'N' means the bases should be changed to Ns in
                              the clipped region; and any integer means that the base qualities should be set to that
                              value in the clipped region.  Default value: null. 

CLIPPING_MIN_LENGTH=Integer
CLIP_MIN=Integer              When performing clipping with the CLIPPING_ATTRIBUTE and CLIPPING_ACTION parameters,
                              ensure that the resulting reads after clipping are at least CLIPPING_MIN_LENGTH bases
                              long. If the original read is shorter than CLIPPING_MIN_LENGTH then the original read
                              length will be maintained.  Default value: 0. This option can be set to 'null' to clear
                              the default value. 

READ1_TRIM=Integer
R1_TRIM=Integer               The number of bases to trim from the beginning of read 1.  Default value: 0. This option
                              can be set to 'null' to clear the default value. 

READ1_MAX_BASES_TO_WRITE=Integer
R1_MAX_BASES=Integer          The maximum number of bases to write from read 1 after trimming. If there are fewer than
                              this many bases left after trimming, all will be written.  If this value is null then all
                              bases left after trimming will be written.  Default value: null. 

READ2_TRIM=Integer
R2_TRIM=Integer               The number of bases to trim from the beginning of read 2.  Default value: 0. This option
                              can be set to 'null' to clear the default value. 

READ2_MAX_BASES_TO_WRITE=Integer
R2_MAX_BASES=Integer          The maximum number of bases to write from read 2 after trimming. If there are fewer than
                              this many bases left after trimming, all will be written.  If this value is null then all
                              bases left after trimming will be written.  Default value: null. 

QUALITY=Integer
Q=Integer                     End-trim reads using the phred/bwa quality trimming algorithm and this quality.  Default
                              value: null. 

INCLUDE_NON_PRIMARY_ALIGNMENTS=Boolean
                              If true, include non-primary alignments in the output.  Support of non-primary alignments
                              in SamToFastq is not comprehensive, so there may be exceptions if this is set to true and
                              there are paired reads with non-primary alignments.  Default value: false. This option can
                              be set to 'null' to clear the default value. Possible values: {true, false} 

TMP_DIR=File                  One or more directories with space available to be used by this program for temporary
                              storage of working files  Default value: null. This option may be specified 0 or more
                              times. 

VERBOSITY=LogLevel            Control verbosity of logging.  Default value: INFO. This option can be set to 'null' to
                              clear the default value. Possible values: {ERROR, WARNING, INFO, DEBUG} 

QUIET=Boolean                 Whether to suppress job-summary info on System.err.  Default value: false. This option can
                              be set to 'null' to clear the default value. Possible values: {true, false} 

VALIDATION_STRINGENCY=ValidationStringency
                              Validation stringency for all SAM files read by this program.  Setting stringency to
                              SILENT can improve performance when processing a BAM file in which variable-length data
                              (read, qualities, tags) do not otherwise need to be decoded.  Default value: STRICT. This
                              option can be set to 'null' to clear the default value. Possible values: {STRICT, LENIENT,
                              SILENT} 

COMPRESSION_LEVEL=Integer     Compression level for all compressed files created (e.g. BAM and VCF).  Default value: 2.
                              This option can be set to 'null' to clear the default value. 

MAX_RECORDS_IN_RAM=Integer    When writing files that need to be sorted, this will specify the number of records stored
                              in RAM before spilling to disk. Increasing this number reduces the number of file handles
                              needed to sort the file, and increases the amount of RAM needed.  Default value: 500000.
                              This option can be set to 'null' to clear the default value. 

CREATE_INDEX=Boolean          Whether to create an index when writing VCF or coordinate sorted BAM output.  Default
                              value: false. This option can be set to 'null' to clear the default value. Possible
                              values: {true, false} 

CREATE_MD5_FILE=Boolean       Whether to create an MD5 digest for any BAM or FASTQ files created.    Default value:
                              false. This option can be set to 'null' to clear the default value. Possible values:
                              {true, false} 

REFERENCE_SEQUENCE=File
R=File                        Reference sequence file.  Default value: null. 

USE_JDK_DEFLATER=Boolean
USE_JDK_DEFLATER=Boolean      Use the JDK Deflater instead of the Intel Deflater for writing compressed output  Default
                              value: false. This option can be set to 'null' to clear the default value. Possible
                              values: {true, false} 

USE_JDK_INFLATER=Boolean
USE_JDK_INFLATER=Boolean      Use the JDK Inflater instead of the Intel Inflater for reading compressed input  Default
                              value: false. This option can be set to 'null' to clear the default value. Possible
                              values: {true, false} 

OPTIONS_FILE=File             File of OPTION_NAME=value pairs.  No positional parameters allowed.  Unlike command-line
                              options, unrecognized options are ignored.  A single-valued option set in an options file
                              may be overridden by a subsequent command-line option.  A line starting with '#' is
                              considered a comment.  Required. 

Using GATK jar /gatk/gatk-package-4.4.0.0-local.jar
Running:
    java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -Xmx100G -jar /gatk/gatk-package-4.4.0.0-local.jar SamToFastq I=/mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_revertsam-noXS_markadapt.bam FASTQ=/dev/stdout CLIPPING_ATTRIBUTE=XT CLIPPING_ACTION=2 INTERLEAVE=true NON_PF=true TMPDIR=/mnt/outputs/tmp
[Wed Sep 13 18:08:12 SGT 2023] MergeBamAlignment UNMAPPED_BAM=/mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_revertsam-noXS.bam ALIGNED_BAM=[/dev/stdin] OUTPUT=/mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_pipe-merged.bam CLIP_ADAPTERS=false MAX_INSERTIONS_OR_DELETIONS=-1 ATTRIBUTES_TO_RETAIN=[XS] PRIMARY_ALIGNMENT_STRATEGY=MostDistant CLIP_OVERLAPPING_READS=true INCLUDE_SECONDARY_ALIGNMENTS=true ADD_MATE_CIGAR=true TMP_DIR=[/mnt/outputs/tmp] CREATE_INDEX=true REFERENCE_SEQUENCE=/mnt/inputs/references/gatk4/GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta    ADD_PG_TAG_TO_READS=true PAIRED_RUN=true IS_BISULFITE_SEQUENCE=false ALIGNED_READS_ONLY=false ATTRIBUTES_TO_REVERSE=[OQ, U2] ATTRIBUTES_TO_REVERSE_COMPLEMENT=[E2, SQ] READ1_TRIM=0 READ2_TRIM=0 ALIGNER_PROPER_PAIR_FLAGS=false SORT_ORDER=coordinate HARD_CLIP_OVERLAPPING_READS=false UNMAP_CONTAMINANT_READS=false MIN_UNCLIPPED_BASES=32 MATCHING_DICTIONARY_TAGS=[M5, LN] UNMAPPED_READ_STRATEGY=DO_NOT_CHANGE VERBOSITY=INFO QUIET=false VALIDATION_STRINGENCY=STRICT COMPRESSION_LEVEL=2 MAX_RECORDS_IN_RAM=500000 CREATE_MD5_FILE=false USE_JDK_DEFLATER=false USE_JDK_INFLATER=false
[Wed Sep 13 18:08:12 SGT 2023] Executing as suffiazi@x1001c1s0b0n0 on Linux 4.18.0-305.25.1.el8_4.x86_64 amd64; OpenJDK 64-Bit Server VM 17.0.6+10-Ubuntu-0ubuntu118.04.1; Deflater: Intel; Inflater: Intel; Provider GCS is available; Picard version: 4.4.0.0
INFO	2023-09-13 18:08:12	SamAlignmentMerger	Processing SAM file(s): [/dev/stdin]
[M::bwa_idx_load_from_disk] read 0 ALT contigs
[main] Version: 0.7.17-r1188
[main] CMD: bwa mem -M -t 16 -p /scratch/users/ntu/suffiazi/inputs/references/gatk4/GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta /dev/stdin
[main] Real time: 9.343 sec; CPU: 2.695 sec
INFO	2023-09-13 18:16:33	AbstractAlignmentMerger	Written in coordinate order to output    10,000,000 records.  Elapsed time: 00:00:08s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:16:41	AbstractAlignmentMerger	Written in coordinate order to output    20,000,000 records.  Elapsed time: 00:00:16s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:16:49	AbstractAlignmentMerger	Written in coordinate order to output    30,000,000 records.  Elapsed time: 00:00:25s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:16:57	AbstractAlignmentMerger	Written in coordinate order to output    40,000,000 records.  Elapsed time: 00:00:32s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:17:05	AbstractAlignmentMerger	Written in coordinate order to output    50,000,000 records.  Elapsed time: 00:00:40s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:17:13	AbstractAlignmentMerger	Written in coordinate order to output    60,000,000 records.  Elapsed time: 00:00:48s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:17:20	AbstractAlignmentMerger	Written in coordinate order to output    70,000,000 records.  Elapsed time: 00:00:56s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:17:29	AbstractAlignmentMerger	Written in coordinate order to output    80,000,000 records.  Elapsed time: 00:01:05s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:17:37	AbstractAlignmentMerger	Written in coordinate order to output    90,000,000 records.  Elapsed time: 00:01:13s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:17:45	AbstractAlignmentMerger	Written in coordinate order to output   100,000,000 records.  Elapsed time: 00:01:21s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:17:54	AbstractAlignmentMerger	Written in coordinate order to output   110,000,000 records.  Elapsed time: 00:01:29s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:18:02	AbstractAlignmentMerger	Written in coordinate order to output   120,000,000 records.  Elapsed time: 00:01:37s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:18:09	AbstractAlignmentMerger	Written in coordinate order to output   130,000,000 records.  Elapsed time: 00:01:45s.  Time for last 10,000,000:    7s.  Last read position: */*
INFO	2023-09-13 18:18:18	AbstractAlignmentMerger	Written in coordinate order to output   140,000,000 records.  Elapsed time: 00:01:53s.  Time for last 10,000,000:    8s.  Last read position: */*
INFO	2023-09-13 18:18:27	AbstractAlignmentMerger	Written in coordinate order to output   150,000,000 records.  Elapsed time: 00:02:02s.  Time for last 10,000,000:    9s.  Last read position: */*
INFO	2023-09-13 18:18:32	AbstractAlignmentMerger	Wrote 0 alignment records and 154370814 unmapped reads.
[Wed Sep 13 18:18:32 SGT 2023] picard.sam.MergeBamAlignment done. Elapsed time: 10.34 minutes.
Runtime.totalMemory()=2248146944
Tool returned:
0
Using GATK jar /gatk/gatk-package-4.4.0.0-local.jar
Running:
    java -Dsamjdk.use_async_io_read_samtools=false -Dsamjdk.use_async_io_write_samtools=true -Dsamjdk.use_async_io_write_tribble=false -Dsamjdk.compression_level=2 -Xmx100G -jar /gatk/gatk-package-4.4.0.0-local.jar MergeBamAlignment ALIGNED_BAM=/dev/stdin UNMAPPED_BAM=/mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_revertsam-noXS.bam OUTPUT=/mnt/inputs/atac-croo-out/2GAMBDQ/sample1/b0dde559-618f-43ce-9ccf-66c744f8e831.nodup.no_chrM_MT_pipe-merged.bam R=/mnt/inputs/references/gatk4/GRCh38_no_alt_analysis_set_GCA_000001405.15.fasta CREATE_INDEX=true ADD_MATE_CIGAR=true CLIP_ADAPTERS=false CLIP_OVERLAPPING_READS=true INCLUDE_SECONDARY_ALIGNMENTS=true MAX_INSERTIONS_OR_DELETIONS=-1 PRIMARY_ALIGNMENT_STRATEGY=MostDistant ATTRIBUTES_TO_RETAIN=XS TMP_DIR=/mnt/outputs/tmp
======================================================================================

			Resource Usage on 2023-09-13 18:18:32.913083:

	JobId: 2860848.pbs101  
	Project: 12003580 
	Exit Status: 4
	NCPUs Requested: 16				NCPUs Used: 16
							CPU Time Used: 00:14:42
	Memory Requested: 120gb 			Memory Used: 40758408kb
							Vmem Used: 119156184kb
	Walltime requested: 08:00:00 			Walltime Used: 00:10:38
	
	Execution Nodes Used: (x1001c1s0b0n0:ncpus=16:mem=125829120kb)
	
 ======================================================================================
